---
layout: challenge
challenge: Keeping (Keyboard) Focus
directory: keeping-focus
# nav: keyboard-challenge
custom-css: keeping-focus
custom-scripts:
  - keeping-focus
#  - toggle-cursor -->
---

<h1 class="sr-only">Sample Solution: {{ page.challenge }}</h1>

<h2>It sounds like it's coming from the basement...</h2>

<a id="to-the-staircase" href="#staircase-top">let's take the stairs...slowly.</a>

<div id="candle-wrapper">
  <div class="candle"></div>
  <div class="wick"></div>
  <div class="fire"></div>
  <div class="light"></div>
</div>

<!-- STEP 1: Make a skip link -->

<!-- a. Make a link that goes all the way to the bottom of the steps. Old news: you must be able to navigate to it using tab, and follow it using enter. -->
<!-- b. Confirm that if you press tab again after following the link, you land on the "whew! made it!" element... not on the "fix my mouse" button. If you land on "fix my mouse", your link isn't changing the keyboard focus; it's only scrolling the viewport. (More details in the challenge's info page.) -->
<!-- c. Confirm that it works in all the browsers you have access to. BONUS: try it out with your devices' built-in screen readers (more on that in a later challenge). -->

<div id="staircase-wrapper">
  <div id="staircase">
    <div id="staircase-top" class="step" tabindex="0">the creaky landing</div>
    <div class="step step-1" tabindex="0">1st step</div>
    <div class="step step-2" tabindex="0">2nd step</div>
    <div class="step step-3" tabindex="0">3rd step</div>
    <div class="step step-4" tabindex="0">4th step</div>
    <div class="step step-5" tabindex="0">5th step</div>
    <div class="step step-6" tabindex="0">6th step</div>
    <div class="step step-7" tabindex="0">7th step</div>
    <div class="step step-8" tabindex="0">8th step</div>
  </div>
  <div class="floor">
    <div class="bottom" tabindex="0"><span class="sr-only">the bottom of the stairs</span></div>
  </div>
</div>

<!-- STEP 2: Stay Focused -->

<!-- a. If your vision allows, fix the styling so that keyboard focus is visible at all times. Hint: there are two kinds of elements in this design with (intentional...) problems. -->
<!-- b. Find out when keyboard focus is dropped and reset to the <body> tag. Hint: it happens three separate times.  -->
<!-- c. Fix them. -->

<script>
  //
  // WRITE YOUR JAVASCRIPT HERE
  //


  // from https://github.com/Automattic/_s/blob/master/js/skip-link-focus-fix.js
  /**
   * File skip-link-focus-fix.js.
   *
   * Helps with accessibility for keyboard only users.
   *
   * Learn more: https://git.io/vWdr2
   */
  ( function() {
    var isIe = /(trident|msie)/i.test( navigator.userAgent );

    if ( isIe && document.getElementById && window.addEventListener ) {
      window.addEventListener( 'hashchange', function() {
        var id = location.hash.substring( 1 ),
          element;

        if ( ! ( /^[A-z0-9_-]+$/.test( id ) ) ) {
          return;
        }

        element = document.getElementById( id );

        if ( element ) {
          if ( ! ( /^(?:a|select|input|button|textarea)$/i.test( element.tagName ) ) ) {
            element.tabIndex = -1;
          }

          element.focus();
        }
      }, false );
    }
  } )();
</script>
